import { useSettings } from '../contexts/SettingsContext';
import { VisualizationType, ColorPalette, FrequencyBand, Language } from '../types';

const translations = {
  ru: {
    title: 'Аудио Визуализатор',
    welcome_title: 'Добро пожаловать',
    welcome_subtitle: 'Загрузите аудиофайл, чтобы начать',
    upload: 'Загрузить',
    upload_tooltip: 'Загрузить аудиофайл(ы)',
    volume_label: 'Громкость',
    settings_tooltip: 'Настройки',
    settings_title: 'Настройки',
    language: 'Язык',
    russian: 'Русский',
    english: 'English',
    german: 'Deutsch',
    chinese: '中文',
    color_palette: 'Цветовая палитра',
    visualization_type: 'Тип визуализации',
    intensity: 'Интенсивность',
    intensity_description: 'Сила и амплитуда визуальных эффектов',
    playback_speed: 'Скорость воспроизведения',
    playback_speed_description: 'Замедление или ускорение трека',
    visualization_equalizer: 'Эквалайзер визуализации',
    bass_gain: 'Усиление баса',
    mids_gain: 'Усиление средних',
    treble_gain: 'Усиление высоких',
    bass_mid_crossover: 'Кроссовер Бас/Средние',
    mid_treble_crossover: 'Кроссовер Средние/Высокие',
    fullscreen_enter: 'Во весь экран',
    fullscreen_exit: 'Выйти из полноэкранного режима',
    next_track: 'Следующий трек',
    prev_track: 'Предыдущий трек',
    no_track: 'Трек не выбран',
    ai_palette_title: 'Генератор палитр (ИИ)',
    ai_palette_prompt: 'Опишите настроение (например, "неоновый город")',
    ai_generate: 'Создать',
    ai_generating: 'Создание...',
    loop_track: 'Повторять трек',
    settings_tab_display: 'Отображение',
    settings_tab_audio: 'Аудио',
    settings_tab_language: 'Язык',
    bass_shake: 'Дрожание от баса',
    bass_shake_description: 'Добавляет эффект тряски на сильных басах',
    [FrequencyBand.BASS]: 'Бас',
    [FrequencyBand.MIDS]: 'Средние',
    [FrequencyBand.TREBLE]: 'Высокие',
    [ColorPalette.AI]: 'Своя (ИИ)',
    [VisualizationType.BARS]: 'Столбцы',
    [VisualizationType.WAVEFORM]: 'Волна',
    [VisualizationType.RADIAL]: 'Радиал',
    [VisualizationType.GALAXY]: 'Галактика',
    [VisualizationType.CIRCLES]: 'Круги',
    [VisualizationType.GRID]: 'Сетка',
    [VisualizationType.FLOWER]: 'Цветок',
    [VisualizationType.STRINGS]: 'Струны',
    [VisualizationType.TUNNEL]: 'Туннель',
    [VisualizationType.SPECTROGRAM]: 'Спектрограмма',
    [VisualizationType.PARTICLE_FLOW]: 'Поток частиц',
    [ColorPalette.VIBRANT]: 'Яркая',
    [ColorPalette.OCEAN]: 'Океан',
    [ColorPalette.FOREST]: 'Лес',
    [ColorPalette.SUNSET]: 'Закат',
    [ColorPalette.NEON]: 'Неон',
  },
  en: {
    title: 'Audio Visualizer',
    welcome_title: 'Welcome',
    welcome_subtitle: 'Upload an audio file to begin',
    upload: 'Upload',
    upload_tooltip: 'Upload audio file(s)',
    volume_label: 'Volume',
    settings_tooltip: 'Settings',
    settings_title: 'Settings',
    language: 'Language',
    russian: 'Русский',
    english: 'English',
    german: 'Deutsch',
    chinese: '中文',
    color_palette: 'Color Palette',
    visualization_type: 'Visualization Type',
    intensity: 'Intensity',
    intensity_description: 'Strength and amplitude of visual effects',
    playback_speed: 'Playback Speed',
    playback_speed_description: 'Slow down or speed up the track',
    visualization_equalizer: 'Visualization Equalizer',
    bass_gain: 'Bass Gain',
    mids_gain: 'Mids Gain',
    treble_gain: 'Treble Gain',
    bass_mid_crossover: 'Bass/Mids Crossover',
    mid_treble_crossover: 'Mids/Treble Crossover',
    fullscreen_enter: 'Fullscreen',
    fullscreen_exit: 'Exit Fullscreen',
    next_track: 'Next Track',
    prev_track: 'Previous Track',
    no_track: 'No track selected',
    ai_palette_title: 'AI Palette Generator',
    ai_palette_prompt: 'Describe a mood (e.g., "neon city")',
    ai_generate: 'Generate',
    ai_generating: 'Generating...',
    loop_track: 'Loop Track',
    settings_tab_display: 'Display',
    settings_tab_audio: 'Audio',
    settings_tab_language: 'Language',
    bass_shake: 'Bass Shake',
    bass_shake_description: 'Adds a shaking effect on heavy bass',
    [FrequencyBand.BASS]: 'Bass',
    [FrequencyBand.MIDS]: 'Mids',
    [FrequencyBand.TREBLE]: 'Treble',
    [ColorPalette.AI]: 'Custom (AI)',
    [VisualizationType.BARS]: 'Bars',
    [VisualizationType.WAVEFORM]: 'Waveform',
    [VisualizationType.RADIAL]: 'Radial',
    [VisualizationType.GALAXY]: 'Galaxy',
    [VisualizationType.CIRCLES]: 'Circles',
    [VisualizationType.GRID]: 'Grid',
    [VisualizationType.FLOWER]: 'Flower',
    [VisualizationType.STRINGS]: 'Strings',
    [VisualizationType.TUNNEL]: 'Tunnel',
    [VisualizationType.SPECTROGRAM]: 'Spectrogram',
    [VisualizationType.PARTICLE_FLOW]: 'Particle Flow',
    [ColorPalette.VIBRANT]: 'Vibrant',
    [ColorPalette.OCEAN]: 'Ocean',
    [ColorPalette.FOREST]: 'Forest',
    [ColorPalette.SUNSET]: 'Sunset',
    [ColorPalette.NEON]: 'Neon',
  },
  de: {
    title: 'Audio-Visualisierer',
    welcome_title: 'Willkommen',
    welcome_subtitle: 'Laden Sie eine Audiodatei hoch, um zu beginnen',
    upload: 'Hochladen',
    upload_tooltip: 'Audiodatei(en) hochladen',
    volume_label: 'Lautstärke',
    settings_tooltip: 'Einstellungen',
    settings_title: 'Einstellungen',
    language: 'Sprache',
    russian: 'Русский',
    english: 'English',
    german: 'Deutsch',
    chinese: '中文',
    color_palette: 'Farbpalette',
    visualization_type: 'Visualisierungstyp',
    intensity: 'Intensität',
    intensity_description: 'Stärke und Amplitude der visuellen Effekte',
    playback_speed: 'Wiedergabegeschwindigkeit',
    playback_speed_description: 'Verlangsamen oder beschleunigen Sie den Track',
    visualization_equalizer: 'Visualisierungs-Equalizer',
    bass_gain: 'Bass-Verstärkung',
    mids_gain: 'Mitten-Verstärkung',
    treble_gain: 'Höhen-Verstärkung',
    bass_mid_crossover: 'Bass/Mitten-Übergang',
    mid_treble_crossover: 'Mitten/Höhen-Übergang',
    fullscreen_enter: 'Vollbild',
    fullscreen_exit: 'Vollbild beenden',
    next_track: 'Nächster Titel',
    prev_track: 'Vorheriger Titel',
    no_track: 'Kein Titel ausgewählt',
    ai_palette_title: 'KI-Palettengenerator',
    ai_palette_prompt: 'Beschreiben Sie eine Stimmung (z.B. "Neonstadt")',
    ai_generate: 'Generieren',
    ai_generating: 'Generiere...',
    loop_track: 'Titel wiederholen',
    settings_tab_display: 'Anzeige',
    settings_tab_audio: 'Audio',
    settings_tab_language: 'Sprache',
    bass_shake: 'Bass-Beben',
    bass_shake_description: 'Fügt bei starkem Bass einen Beben-Effekt hinzu',
    [FrequencyBand.BASS]: 'Bass',
    [FrequencyBand.MIDS]: 'Mitten',
    [FrequencyBand.TREBLE]: 'Höhen',
    [ColorPalette.AI]: 'Benutzerdef. (KI)',
    [VisualizationType.BARS]: 'Balken',
    [VisualizationType.WAVEFORM]: 'Wellenform',
    [VisualizationType.RADIAL]: 'Radial',
    [VisualizationType.GALAXY]: 'Galaxie',
    [VisualizationType.CIRCLES]: 'Kreise',
    [VisualizationType.GRID]: 'Gitter',
    [VisualizationType.FLOWER]: 'Blume',
    [VisualizationType.STRINGS]: 'Saiten',
    [VisualizationType.TUNNEL]: 'Tunnel',
    [VisualizationType.SPECTROGRAM]: 'Spektrogramm',
    [VisualizationType.PARTICLE_FLOW]: 'Partikelfluss',
    [ColorPalette.VIBRANT]: 'Lebendig',
    [ColorPalette.OCEAN]: 'Ozean',
    [ColorPalette.FOREST]: 'Wald',
    [ColorPalette.SUNSET]: 'Sonnenuntergang',
    [ColorPalette.NEON]: 'Neon',
  },
  zh: {
    title: '音频可视化工具',
    welcome_title: '欢迎',
    welcome_subtitle: '上传音频文件以开始',
    upload: '上传',
    upload_tooltip: '上传音频文件',
    volume_label: '音量',
    settings_tooltip: '设置',
    settings_title: '设置',
    language: '语言',
    russian: 'Русский',
    english: 'English',
    german: 'Deutsch',
    chinese: '中文',
    color_palette: '调色板',
    visualization_type: '可视化类型',
    intensity: '强度',
    intensity_description: '视觉效果的强度和幅度',
    playback_speed: '播放速度',
    playback_speed_description: '减慢或加快曲目',
    visualization_equalizer: '可视化均衡器',
    bass_gain: '低音增益',
    mids_gain: '中音增益',
    treble_gain: '高音增益',
    bass_mid_crossover: '低音/中音分频',
    mid_treble_crossover: '中音/高音分频',
    fullscreen_enter: '全屏',
    fullscreen_exit: '退出全屏',
    next_track: '下一首',
    prev_track: '上一首',
    no_track: '未选择曲目',
    ai_palette_title: 'AI 调色板生成器',
    ai_palette_prompt: '描述一种情绪（例如“霓虹城市”）',
    ai_generate: '生成',
    ai_generating: '生成中...',
    loop_track: '循环播放',
    settings_tab_display: '显示',
    settings_tab_audio: '音频',
    settings_tab_language: '语言',
    bass_shake: '低音震动',
    bass_shake_description: '在重低音时增加震动效果',
    [FrequencyBand.BASS]: '低音',
    [FrequencyBand.MIDS]: '中音',
    [FrequencyBand.TREBLE]: '高音',
    [ColorPalette.AI]: '自定义 (AI)',
    [VisualizationType.BARS]: '条形图',
    [VisualizationType.WAVEFORM]: '波形图',
    [VisualizationType.RADIAL]: '放射状',
    [VisualizationType.GALAXY]: '星系',
    [VisualizationType.CIRCLES]: '圆形',
    [VisualizationType.GRID]: '网格',
    [VisualizationType.FLOWER]: '花朵',
    [VisualizationType.STRINGS]: '琴弦',
    [VisualizationType.TUNNEL]: '隧道',
    [VisualizationType.SPECTROGRAM]: '频谱图',
    [VisualizationType.PARTICLE_FLOW]: '粒子流',
    [ColorPalette.VIBRANT]: '活力',
    [ColorPalette.OCEAN]: '海洋',
    [ColorPalette.FOREST]: '森林',
    [ColorPalette.SUNSET]: '日落',
    [ColorPalette.NEON]: '霓虹',
  },
};

type TranslationKeys = keyof typeof translations.en | FrequencyBand | Language;

export const useTranslation = () => {
  const { language } = useSettings();
  
  const t = (key: TranslationKeys) => {
    const lang = translations[language] as Record<TranslationKeys, string>;
    const fallbackLang = translations.en as Record<TranslationKeys, string>;
    return lang[key] || fallbackLang[key] || key;
  };

  return { t, language };
};